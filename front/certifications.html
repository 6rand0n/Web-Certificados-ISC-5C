<!-- Esta es la pagina de CERTIFICACIONES -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="css/styles.css">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body>
        <!-- HEADER -->
        <nav class="navbar">
            <div class="header-logo">
                *imagen*
            </div>
            <div class="header-buttons">
                <a href="index.html" id="nav-btn">Home</a>
                <a href="certifications.html" id="nav-certifications">Certifications</a>
                <a href="contact.html" id="nav-btn">Contact</a>
                <a href="about.html" id="nav-btn">About Us</a>
            </div>
            <div class="header-login">
                <span id="userName" class="user-name"></span>
                    <button id="loginBtn" class="icon-btn" title="Login">
                        <span class="login-icon">Login</span>
                    </button>
                    <button id="logoutBtn" class="icon-btn" title="Logout" style="display:none;">
                        <span class="logout-icon"></span>
                    </button>
            </div>
        </nav>
        <!-- FIN HEADER -->

        <!-- Modal de Login -->
        <div id="loginModal" class="login-dropdown">
            <div class="login-box">
                <div class="login-header">
                    <h2>Iniciar Sesi贸n</h2>
                    <span class="close" id="closeModal">&times;</span>
                </div>
                <form id="formLogin" class="login-form">
                    <input type="text" id="login" placeholder="Usuario" required>
                    <input type="password" id="password" placeholder="Contrase帽a" required>
                    <button type="submit">Entrar</button>
                </form>
            </div>
        </div>
        <!-- FIN MODAL DE LOGIN -->

        

        <section class="seccion">
            <div class="container">

                <div class="card-title">
                    <h3>Certificaci贸n en Python</h3>
                    <img src="images/phyton.png" alt="Python">
                </div>
                <div class="card-details">
                    <p><strong>Descripci贸n:</strong> Aprende a desarrollar aplicaciones y programas en Python, uno de los lenguajes m谩s populares y vers谩tiles en la actualidad. Esta certificaci贸n cubre desde los conceptos b谩sicos hasta la creaci贸n de proyectos completos, incluyendo manejo de datos, automatizaci贸n, y desarrollo web.</p>
                    <p><strong>Ventajas:</strong> Reconocimiento internacional, mejora laboral, oportunidad de trabajar en proyectos reales, desarrollo de habilidades en ciencia de datos, inteligencia artificial y automatizaci贸n de procesos.</p>
                    <p><strong>Puntuaci贸n m铆nima:</strong> 75%</p>
                    <p><strong>Costo:</strong> $750 MXN</p>
                </div>
                <div class="card-btn">
                    <button>Pagar</button>
                    <button id="btnCargar">Iniciar Examen</button>
                </div>
            </div>

            <!-- CERTIFICACIONES DESABILITADAS -->
            <div class="container">
                <div class="card-title">
                    <h3>Certificaci贸n en JavaScript</h3>
                    <img src="images/js.png" alt="JavaScript">
                </div>
                <div class="card-details">
                    <p><strong>Descripci贸n:</strong> Aprende a desarrollar aplicaciones web interactivas usando JavaScript, el lenguaje principal del desarrollo frontend. Esta certificaci贸n incluye desde fundamentos b谩sicos hasta conceptos avanzados como programaci贸n as铆ncrona, manipulaci贸n del DOM, APIs y desarrollo con frameworks modernos.</p>
                    <p><strong>Ventajas:</strong> Reconocimiento internacional, mejora laboral, habilidades en desarrollo web moderno, capacidad de crear interfaces interactivas, aplicaciones din谩micas y trabajar con tecnolog铆as complementarias como HTML, CSS y frameworks populares.</p>
                    <p><strong>Puntuaci贸n m铆nima:</strong> 70%</p>
                    <p><strong>Costo:</strong> $700 MXN</p>
                </div>
                <div class="card-btn">
                    <button class="disabled-btn">Pagar</button>
                    <button id="btnCargarJS" class="disabled-btn">Iniciar Examen</button>
                </div>
            </div>
            <div class="container">
                <div class="card-title">
                    <h3>Certificaci贸n en C++</h3>
                    <img src="images/cpp.png" alt="C++">
                </div>
                <div class="card-details">
                    <p><strong>Descripci贸n:</strong> Aprende a programar en C++, un lenguaje fundamental para el desarrollo de sistemas, videojuegos y software de alto rendimiento. La certificaci贸n cubre desde estructuras de datos y algoritmos hasta programaci贸n avanzada, incluyendo manejo de memoria y optimizaci贸n de c贸digo.</p>
                    <p><strong>Ventajas:</strong> Reconocimiento internacional, habilidades en desarrollo de software de alto rendimiento, preparaci贸n para trabajar en videojuegos, sistemas embebidos, simuladores y aplicaciones complejas, fortaleciendo la l贸gica y resoluci贸n de problemas.</p>
                    <p><strong>Puntuaci贸n m铆nima:</strong> 65%</p>
                    <p><strong>Costo:</strong> $850 MXN</p>
                </div>
                <div class="card-btn">
                    <button class="disabled-btn">Pagar</button>
                    <button class="disabled-btn" id="btnCargarCpp">Iniciar Examen</button>
                </div>

            </div>
            <div class="container">
                <div class="card-title">
                    <h3>Certificaci贸n en C#</h3>
                    <img src="images/c_sharp.png" alt="C#">
                </div>
                <div class="card-details">
                    <p><strong>Descripci贸n:</strong> Aprende a desarrollar aplicaciones y soluciones en C#, uno de los lenguajes m谩s utilizados en el desarrollo de software empresarial y videojuegos. Esta certificaci贸n abarca desde conceptos b谩sicos hasta la creaci贸n de aplicaciones de escritorio, web y juegos usando .NET y Unity.</p>
                    <p><strong>Ventajas:</strong> Reconocimiento internacional, mejora laboral, capacidad de crear aplicaciones profesionales, desarrollo de habilidades en programaci贸n orientada a objetos, integraci贸n con bases de datos y desarrollo de videojuegos.</p>
                    <p><strong>Puntuaci贸n m铆nima:</strong> 70%</p>
                    <p><strong>Costo:</strong> $800 MXN</p>
                </div>
                <div class="card-btn">
                    <button class="disabled-btn">Pagar</button>
                    <button class="disabled-btn" id="btnCargarCSharp">Iniciar Examen</button>
                </div>

            </div>
        </section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const btnCargar = document.getElementById("btnCargar");

  if (!btnCargar) return;

  btnCargar.addEventListener("click", async () => {
    const token = localStorage.getItem("token");

    if (!token) {
      Swal.fire({
        icon: "warning",
        title: "Acceso denegado",
        text: "Debes iniciar sesi贸n para poder presentar el examen.",
        confirmButtonColor: "#d33",
      });
      return;
    }

    try {
      // Validar si el usuario tiene acceso al examen
      const res = await fetch("http://localhost:3000/api/certifications/python", {
        method: "POST",
        headers: { Authorization: `Bearer ${token}` },
      });

      const data = await res.json();

      if (res.ok && data.status === "OK") {
        Swal.fire({
          icon: "success",
          title: "Acceso concedido",
          text: "Redirigiendo al examen...",
          confirmButtonColor: "#1e3d58",
          timer: 2000,
          showConfirmButton: false,
        });
        setTimeout(() => {
          window.location.href = "exam.html";
        }, 2000);
      } else {
        Swal.fire({
          icon: "error",
          title: "No puedes iniciar el examen",
          text: data.error ?? "No se cumplen las condiciones para presentar el examen.",
          confirmButtonColor: "#d33",
        });
      }
    } catch (err) {
      console.error(err);
      Swal.fire({
        icon: "error",
        title: "Error de conexi贸n",
        text: "No se pudo conectar con el servidor.",
        confirmButtonColor: "#d33",
      });
    }
  });
});
    </script>
<script src="js/login.js"></script>

    </body>
</html>